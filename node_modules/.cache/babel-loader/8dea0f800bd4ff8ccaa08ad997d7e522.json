{"ast":null,"code":"var _jsxFileName = \"/Users/jerryye/perkify/src/contexts/Business.tsx\",\n    _s = $RefreshSig$();\n\nimport { AdminContext } from \"contexts/Admin\";\nimport { db } from \"firebaseApp\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BusinessContext = /*#__PURE__*/React.createContext({});\nexport const BusinessProvider = ({\n  children\n}) => {\n  _s();\n\n  const [business, setBusiness] = useState({});\n  const {\n    admin\n  } = useContext(AdminContext);\n  useEffect(() => {\n    if (admin) {\n      console.log(\"Admin defined\");\n      const businessId = admin[\"companyID\"];\n      db.collection(\"businesses\").doc(businessId).onSnapshot(businessDoc => {\n        const businessData = businessDoc.data();\n        console.log(\"Business Data:\");\n        console.log(businessData);\n\n        if (businessData) {\n          console.log(\"setting business data\");\n          setBusiness({ ...businessData\n          });\n        }\n      }, error => {\n        console.log(\"Snapshot permissions error\");\n      });\n    }\n  }, [admin]);\n  return /*#__PURE__*/_jsxDEV(BusinessContext.Provider, {\n    value: {\n      business,\n      setBusiness\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BusinessProvider, \"/P5x99ACq+PSvE6ZYu48o+lwYZI=\");\n\n_c = BusinessProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"BusinessProvider\");","map":{"version":3,"sources":["/Users/jerryye/perkify/src/contexts/Business.tsx"],"names":["AdminContext","db","React","useContext","useEffect","useState","BusinessContext","createContext","BusinessProvider","children","business","setBusiness","admin","console","log","businessId","collection","doc","onSnapshot","businessDoc","businessData","data","error"],"mappings":";;;AAAA,SAASA,YAAT,QAA6B,gBAA7B;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;;AAEA,OAAO,MAAMC,eAAe,gBAAGJ,KAAK,CAACK,aAAN,CAAyB,EAAzB,CAAxB;AAEP,OAAO,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAChD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAYT,UAAU,CAACH,YAAD,CAA5B;AAEAI,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIQ,KAAJ,EAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,YAAMC,UAAU,GAAGH,KAAK,CAAC,WAAD,CAAxB;AACAX,MAAAA,EAAE,CAACe,UAAH,CAAc,YAAd,EACGC,GADH,CACOF,UADP,EAEGG,UAFH,CAGKC,WAAD,IAAiB;AACf,cAAMC,YAAY,GAAGD,WAAW,CAACE,IAAZ,EAArB;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYM,YAAZ;;AACA,YAAIA,YAAJ,EAAkB;AAChBP,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAH,UAAAA,WAAW,CAAC,EAAE,GAAGS;AAAL,WAAD,CAAX;AACD;AACF,OAXL,EAYKE,KAAD,IAAW;AACTT,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD,OAdL;AAgBD;AACF,GArBQ,EAqBN,CAACF,KAAD,CArBM,CAAT;AAuBA,sBACE,QAAC,eAAD,CAAiB,QAAjB;AACE,IAAA,KAAK,EAAE;AACLF,MAAAA,QADK;AAELC,MAAAA;AAFK,KADT;AAAA,cAMGF;AANH;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,CArCM;;GAAMD,gB;;KAAAA,gB","sourcesContent":["import { AdminContext } from \"contexts/Admin\";\nimport { db } from \"firebaseApp\";\nimport React, { useContext, useEffect, useState } from \"react\";\n\nexport const BusinessContext = React.createContext<any>({});\n\nexport const BusinessProvider = ({ children }) => {\n  const [business, setBusiness] = useState({});\n  const { admin } = useContext(AdminContext);\n\n  useEffect(() => {\n    if (admin) {\n      console.log(\"Admin defined\");\n      const businessId = admin[\"companyID\"];\n      db.collection(\"businesses\")\n        .doc(businessId)\n        .onSnapshot(\n          (businessDoc) => {\n            const businessData = businessDoc.data();\n            console.log(\"Business Data:\");\n            console.log(businessData);\n            if (businessData) {\n              console.log(\"setting business data\");\n              setBusiness({ ...businessData });\n            }\n          },\n          (error) => {\n            console.log(\"Snapshot permissions error\");\n          }\n        );\n    }\n  }, [admin]);\n\n  return (\n    <BusinessContext.Provider\n      value={{\n        business,\n        setBusiness,\n      }}\n    >\n      {children}\n    </BusinessContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}