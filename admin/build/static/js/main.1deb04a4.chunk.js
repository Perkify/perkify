(this.webpackJsonpperkify=this.webpackJsonpperkify||[]).push([[0],{339:function(e,t){},341:function(e,t){},351:function(e,t){},353:function(e,t){},380:function(e,t){},382:function(e,t){},383:function(e,t){},388:function(e,t){},390:function(e,t){},396:function(e,t){},398:function(e,t){},417:function(e,t){},429:function(e,t){},432:function(e,t){},435:function(e,t,a){},436:function(e,t,a){"use strict";a.r(t);var n=a(497),r=a(89),s=a(502),i=a(0),o=a.n(i),c=a(21),l=a.n(c),d=(a(302),a(35)),u=a(266),j=a(6),b=a(25),p=a(251),m=(a(303),a(437),p.a.initializeApp({apiKey:"AIzaSyDy0YjntwrgEwpDVGbqHtJfUtl3fu-9so4",authDomain:"perkify-5790b.firebaseapp.com",projectId:"perkify-5790b",storageBucket:"perkify-5790b.appspot.com",messagingSenderId:"70680365143",appId:"1:70680365143:web:b833a744f5880b96cd3b12",measurementId:"G-CJNSWW5F87"})),h=m.firestore(),f=m.auth();"emulator"==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIRESTORE_MODE&&(console.log("Using emulator firestore"),h.useEmulator("localhost",8080));var O=m,x=a(2),g=o.a.createContext({}),y=function(e){var t=e.children,a=Object(i.useState)(null),n=Object(j.a)(a,2),r=n[0],s=n[1],o=Object(i.useState)(!0),c=Object(j.a)(o,2),l=c[0],d=c[1];Object(b.g)();return Object(i.useEffect)((function(){O.auth().onAuthStateChanged((function(e){console.log("Loading auth state complete"),s(e),d(!1)}))}),[]),Object(x.jsx)(g.Provider,{value:{currentUser:r,authenticated:null!==r,setCurrentUser:s,loadingAuthState:l},children:t})},v=["component"],C=function(e){var t=e.component,a=Object(u.a)(e,v),n=Object(i.useContext)(g),r=n.currentUser,s=n.loadingAuthState;return Object(i.useEffect)((function(){r&&!1===r.emailVerified&&(alert("Please verify your email!"),f.signOut())}),[r]),Object(x.jsx)(b.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return r||s?Object(x.jsx)(t,Object(d.a)({},e)):Object(x.jsx)(b.a,{to:"/login"})}}))},k=o.a.createContext({}),S=function(e){var t=e.children,a=Object(i.useState)({}),n=Object(j.a)(a,2),r=n[0],s=n[1],o=Object(i.useContext)(g).currentUser;return Object(i.useEffect)((function(){o&&h.collection("admins").doc(o.uid).get().then((function(e){var t=e.data();s(t)})).catch((function(e){console.log("Error getting admin doc:",e)}))}),[o]),Object(x.jsx)(k.Provider,{value:{admin:r,setAdmin:s},children:t})},P=o.a.createContext({}),N=function(e){var t=e.children,a=Object(i.useState)({}),n=Object(j.a)(a,2),r=n[0],s=n[1],o=Object(i.useContext)(k).admin;return Object(i.useEffect)((function(){if(o){console.log("Admin defined");var e=o.companyID;h.collection("businesses").doc(e).onSnapshot((function(e){var t=e.data();console.log("Business Data:"),console.log(t),t&&(console.log("setting business data"),s(Object(d.a)({},t)))}),(function(e){console.log("Snapshot permissions error")}))}}),[o]),Object(x.jsx)(P.Provider,{value:{business:r,setBusiness:s},children:t})},w=a(73),E=a(48),M=a(114),A=a(498),T=a(517),I=a(512),D=a(520),B=a(514),F=a(441),G=a(442),z=a(443),H=a(496),V=a(188),W=a(189),R=a(23),Z=a(83),U=a(259),L=a.n(U),J=a(256),_=a.n(J),q=a(261),Y=a.n(q),K=a(258),Q=a.n(K),$=a(257),X=a.n($),ee=a(260),te=a.n(ee),ae=a.p+"static/media/logo.555c33b2.png",ne=Object(V.a)((function(e){var t;return Object(W.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:(t={},Object(E.a)(t,e.breakpoints.down("sm"),{display:"none"}),Object(E.a)(t,e.breakpoints.up("md"),{width:280,flexShrink:0}),t),menuButton:Object(E.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:280},drawerContainer:{overflow:"auto"},avatarCard:{display:"flex","& > *":{margin:e.spacing(1)},margin:"20px 25px",padding:"0px 10px",border:0,backgroundColor:"#e6edff",height:"80px",alignItems:"center"},content:{flexGrow:1,minWidth:"200px",padding:e.spacing(3)},listItem:{fontSize:14}})}));function re(e){var t=e.children,a=ne(),r=Object(R.a)(),s=o.a.useState(!1),c=Object(j.a)(s,2),l=c[0],d=c[1],u=Object(i.useContext)(g).currentUser,p=Object(i.useContext)(P).business,m=Object(b.h)(),h=[["Dashboard","/dashboard",Object(x.jsx)(_.a,{})]],f=[["Employees","/dashboard/people",Object(x.jsx)(X.a,{})]],O=Object(i.useState)([]),y=Object(j.a)(O,2),v=y[0],C=y[1];Object(i.useEffect)((function(){if(0!=Object.keys(p).length){var e=Object.keys(p.groups).sort().map((function(e){return[e,"/dashboard/group/"+e,Object(x.jsx)(Q.a,{})]}));e.push(["Add New Group","/dashboard/create/group",Object(x.jsx)(L.a,{})]),C(e)}}),[p]);var k=[["General",h],["People",f],["Perk Groups",v],["Account",[["Settings","/settings",Object(x.jsx)(te.a,{})],["Logout","/logout",Object(x.jsx)(Y.a,{})]]]],S=Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:a.drawerContainer,children:[Object(x.jsx)("div",{style:{padding:"40px 30px"},children:Object(x.jsx)("img",{style:{height:"30px"},src:ae})}),Object(x.jsxs)(M.a,{className:a.avatarCard,variant:"outlined",children:[Object(x.jsx)(T.a,{alt:null===u||void 0===u?void 0:u.displayName,src:"brokenimage",style:{backgroundColor:r.palette.primary.main}}),Object(x.jsxs)("span",{children:[Object(x.jsx)(Z.a,{style:{fontSize:"14px"},children:Object(x.jsx)(I.a,{fontWeight:"bold",children:null===u||void 0===u?void 0:u.displayName})}),Object(x.jsx)(Z.a,{variant:"caption",children:"admin"})]})]}),Object(x.jsx)("div",{style:{padding:"10px 0"},children:k.map((function(e,t){var n=Object(j.a)(e,2),s=n[0],i=n[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)(Z.a,{style:{margin:"30px 0 0 40px",fontSize:"12px",textTransform:"uppercase",letterSpacing:"1px"},component:"div",children:Object(x.jsx)(I.a,{fontWeight:700,children:s})}),Object(x.jsx)(F.a,{children:i.map((function(e,t){var n=Object(j.a)(e,3),s=n[0],i=n[1],o=n[2];return Object(x.jsxs)(G.a,{button:!0,component:w.b,to:i,style:{backgroundColor:m.pathname==i&&"#e6edff",color:m.pathname==i&&r.palette.primary.main,borderRight:m.pathname==i&&"3px solid ".concat(r.palette.primary.main),paddingLeft:"30px"},children:[Object(x.jsx)(z.a,{style:{justifyContent:"center",color:m.pathname==i&&r.palette.primary.main},children:o}),Object(x.jsx)(H.a,{primary:s,classes:{primary:a.listItem}})]},s)}))})]},s)}))})]})});return Object(x.jsxs)("div",{className:a.root,children:[Object(x.jsx)(n.a,{}),Object(x.jsx)(A.a,{position:"fixed",variant:"outlined",className:a.appBar,style:{background:"white"}}),Object(x.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(x.jsx)(B.a,{mdUp:!0,implementation:"css",children:Object(x.jsx)(D.a,{variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:l,onClose:function(){d(!l)},classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:S})}),Object(x.jsx)(B.a,{xsDown:!0,implementation:"css",children:Object(x.jsx)(D.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0,children:S})})]}),Object(x.jsx)("main",{className:a.content,children:Object(x.jsx)(I.a,{margin:"60px 20px 20px 20px",children:t})})]})}var se=a(20),ie=a.n(se),oe=a(26),ce=a(499),le=a(180),de=a(138),ue=a(65),je=a(95),be=a(516),pe=a(133),me=a.n(pe),he=a(58),fe=a(439),Oe=Object(he.a)((function(e){return Object(fe.a)({deleteButton:{marginLeft:"auto",height:"50px",width:"150px",display:"flex",justifyContent:"space-evenly",backgroundColor:e.palette.secondary.light}})})),xe=function(e){var t=Oe();return Object(x.jsxs)("div",{style:{marginBottom:"50px",display:"flex",alignItems:"center"},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(Z.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(x.jsx)(I.a,{fontWeight:"bold",children:e.title})}),e.crumbs&&Object(x.jsx)(be.a,{"aria-label":"breadcrumb",children:e.crumbs.map((function(t,a){return Object(x.jsx)(Z.a,{style:{color:e.crumbs.length-1!=a?"grey":"black",fontSize:"14px"},children:t},a)}))})]}),e.button&&("delete"==e.button.type?Object(x.jsxs)(je.a,{className:t.deleteButton,variant:"contained",onClick:function(){e.button.onClick()},children:[Object(x.jsx)(me.a,{}),"Delete"]}):Object(x.jsx)("p",{children:"Other buttons"}))]})},ge=a(262),ye=a.n(ge).a.create({baseURL:"".concat("https://us-central1-perkify-5790b.cloudfunctions.net","/perkify-5790b/us-central1")});ye.defaults.withCredentials=!0;var ve=function(e){var t=e.replace(/[,'"]+/gi," ").split(/\s+/),a=!0;return t.forEach((function(e){!1===function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(e)&&(a=!1)})),a},Ce=[{Name:"Netflix Basic",Cost:8.99,Period:"Monthly"},{Name:"Netflix Standard",Cost:13.99,Period:"Monthly"},{Name:"Netflix Premium",Cost:17.99,Period:"Monthly"},{Name:"Hulu (No Ads)",Cost:11.99,Period:"Monthly"},{Name:"Hulu (Standard)",Cost:5.99,Period:"Monthly"},{Name:"Hulu + Live TV",Cost:64.99,Period:"Monthly"},{Name:"Audible Plus",Cost:7.95,Period:"Monthly"},{Name:"Audible Premium Plus",Cost:14.95,Period:"Monthly"},{Name:"Masterclass",Cost:180,Period:"Annual"},{Name:"Disney+",Cost:7.99,Period:"Monthly"},{Name:"People Magazine",Cost:89.1,Period:"Annual"},{Name:"Time Magazine Digital",Cost:19.99,Period:"Annual"},{Name:"Calm",Cost:69.99,Period:"Annual"},{Name:"Headspace",Cost:12.99,Period:"Monthly"},{Name:"The Economist Digital",Cost:55,Period:"Quarterly"},{Name:"The Economist Digital + Print",Cost:69,Period:"Quarterly"},{Name:"HBOMAX (with Ads)",Cost:9.99,Period:"Monthly"},{Name:"HBOMAX (Ad-free)",Cost:14.99,Period:"Monthly"},{Name:"Discovery+ (with Ads)",Cost:4.99,Period:"Monthly"},{Name:"Discovery+ (Ad-free)",Cost:6.99,Period:"Monthly"},{Name:"Hulu, Disney+ and ESPN+ Bundle",Cost:13.99,Period:"Monthly"},{Name:"ClassPass (6 credits or 2 classes)",Cost:15,Period:"Monthly"},{Name:"ClassPass (23 credits or 8 classes)",Cost:49,Period:"Monthly"},{Name:"ClassPass (38 credits or 13 classes)",Cost:79,Period:"Monthly"},{Name:"ClassPass (68 credits or 24 classes)",Cost:139,Period:"Monthly"},{Name:"ClassPass (100 credits or 35 classes)",Cost:199,Period:"Monthly"},{Name:"Apple Music (Individual)",Cost:9.99,Period:"Monthly"},{Name:"Apple Music (Family)",Cost:14.99,Period:"Monthly"},{Name:"Babbel",Cost:13.95,Period:"Monthly"},{Name:"Spotify Individual",Cost:9.99,Period:"Monthly"},{Name:"Spotify Duo; For 2 People Living Together",Cost:12.99,Period:"Monthly"},{Name:"Spotify Family; Up to 6 Accounts",Cost:15.99,Period:"Monthly"},{Name:"Spotify Student; Incluldes Hulu (with Ads) and SHOWTIME",Cost:4.99,Period:"Monthly"},{Name:"Amazon Music Unlimited",Cost:7.99,Period:"Monthly"},{Name:"Amazon Music Family",Cost:14.99,Period:"Monthly"},{Name:"SHOWTIME",Cost:10.99,Period:"Monthly"},{Name:"The Wall Street Journal",Cost:38.99,Period:"Monthly"},{Name:"The New York Times Basic Digital",Cost:19.99,Period:"Monthly"},{Name:"The New York Times Basic Digital, NYT Games, NYT Cooking",Cost:23.95,Period:"Monthly"},{Name:"The Washinton Post All-Access Digital",Cost:11.99,Period:"Monthly"},{Name:"The Washinton Post Shared Access",Cost:17.99,Period:"Monthly"},{Name:"Rosetta Stone",Cost:36,Period:"Quarterly"},{Name:"Duolingo Plus",Cost:6.99,Period:"Monthly"}],ke=Ce.reduce((function(e,t){return e[t.Name]={Cost:t.Cost,Period:t.Period,Name:t.Name},e}),{}),Se=function(e){var t=e.history,a=Object(i.useState)(Ce.map((function(e){return e.Name}))),n=Object(j.a)(a,2),r=n[0],s=(n[1],Object(i.useState)(0)),o=Object(j.a)(s,2),c=o[0],l=o[1],d=Object(i.useState)(0),u=Object(j.a)(d,2),b=u[0],p=u[1],m=Object(i.useState)(0),h=Object(j.a)(m,2),f=h[0],O=h[1],y=Object(i.useContext)(g).currentUser,v=Object(i.useState)(""),C=Object(j.a)(v,2),k=C[0],S=C[1],P=Object(i.useState)(""),N=Object(j.a)(P,2),w=N[0],E=N[1],M=Object(i.useState)([]),A=Object(j.a)(M,2),T=A[0],I=A[1],D=Object(i.useState)(""),B=Object(j.a)(D,2),F=B[0],G=B[1],z=Object(i.useState)(""),H=Object(j.a)(z,2),V=H[0],W=H[1],R=Object(i.useState)(""),U=Object(j.a)(R,2),L=U[0],J=U[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(xe,{title:"Create Group",crumbs:["Dashboard","Perk Groups","Create Group"]}),Object(x.jsxs)(ce.a,{style:{width:700,padding:30,marginTop:30},elevation:4,children:[Object(x.jsx)(Z.a,{style:{marginBottom:"15px"},children:"Group Name"}),Object(x.jsx)(le.a,{id:"group_name",variant:"outlined",label:"Group Name",placeholder:"Cole's Group",value:k,onChange:function(e){S(e.target.value),G("")},fullWidth:!0,error:""!=F,helperText:F}),Object(x.jsx)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:"Emails"}),Object(x.jsx)(le.a,{id:"emailaddresses",variant:"outlined",label:"",placeholder:"Insert emails separated by commas or newlines",value:w,onChange:function(e){!function(e){E(e.target.value),""===e.target.value?W("Please input at least one email"):ve(e.target.value)?W(""):W("Please input proper emails")}(e);var t=c;if(""===e.target.value)t=0;else if(ve(e.target.value)){t=e.target.value.replace(/[,'"]+/gi," ").split(/\s+/).length}else;l(t),O(t*b)},fullWidth:!0,multiline:!0,rows:4,rowsMax:4,error:""!=V,helperText:V}),Object(x.jsx)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:"Perks"}),Object(x.jsx)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,renderValue:function(e){return 0===e.length?"Select Perks":e.join(", ")},variant:"outlined",value:T,multiple:!0,fullWidth:!0,label:"Select Group",placeholder:"Select Gruop",onChange:function(e){var t=e.target.value;J(""),I(t);var a=0;t.forEach((function(e){a+=ke[e].Cost})),p(a),O(a*c)},error:""!=L,children:r.map((function(e){return Object(x.jsx)(ue.a,{value:e,children:e},e)}))}),Object(x.jsxs)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:["Estimated Cost: $",f]}),Object(x.jsx)(je.a,{onClick:function(e){e.preventDefault();var a=!1;if(""==k&&(G("Enter a group name"),a=!0),""==w?(W("Please input at least one email"),a=!0):ve(w)||(W("Please input proper emails"),a=!0),0==T.length&&(J("Select perks"),a=!0),!a){console.log("No errors");var n=w.replace(/[,'"]+/gi," ").split(/\s+/);Object(oe.a)(ie.a.mark((function e(){var a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getIdToken();case 2:a=e.sent,console.log(a),ye.post("user/auth/createGroup",{group:k,emails:n,perks:T},{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}}).then((function(){t.push("/dashboard/group/".concat(k))})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})))()}},variant:"contained",color:"primary",children:"Create Perk Group"})]})]})},Pe=a(503),Ne=a(507),we=a(505),Ee=a(506),Me=a(504),Ae=a(104),Te=a(18),Ie=a(177),De=a(135),Be=a(4),Fe=Object(he.a)((function(e){return Object(fe.a)({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),height:"60px"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Te.j)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 auto",marginLeft:"10px"}})})),Ge=Object(he.a)((function(e){return Object(fe.a)({root:{border:"none"}})})),ze=function(e){var t=e.rows,a=e.columns,n=e.setSelected,r=e.onClickAdd,s=e.onClickDelete,i=e.tableName,o=e.addButtonText,c=e.height,l=Ge();return Object(x.jsx)(ce.a,{style:{height:c,border:0},elevation:4,children:Object(x.jsx)(De.a,{classes:{root:l.root},rows:t,columns:a,pageSize:10,rowHeight:60,headerHeight:60,checkboxSelection:!0,onSelectionModelChange:function(e){n(e.selectionModel)},components:{Toolbar:function(){var e=Fe(),t=Object(De.c)().state,a=Object.keys(t.selection).length;return Object(x.jsxs)(De.b,{className:Object(Be.a)(e.root,Object(E.a)({},e.highlight,a>0)),children:[a>0?Object(x.jsxs)(Z.a,{className:e.title,color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):Object(x.jsx)(Z.a,{className:e.title,variant:"h6",id:"tableTitle",component:"div",children:i}),a>0?Object(x.jsx)(Ie.a,{title:"Delete",children:Object(x.jsx)(Ae.a,{"aria-label":"delete",onClick:s,children:Object(x.jsx)(me.a,{})})}):Object(x.jsx)(je.a,{color:"primary",onClick:r,style:{marginRight:"10px"},children:o})]})}}})})},He=[{field:"email",headerName:"Email",width:300,editable:!1},{field:"group",headerName:"Group",width:200,editable:!1}];function Ve(){var e=Object(i.useState)(!1),t=Object(j.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)(!1),s=Object(j.a)(r,2),o=s[0],c=s[1],l=Object(i.useState)([]),d=Object(j.a)(l,2),u=(d[0],d[1]),b=Object(i.useState)([]),p=Object(j.a)(b,2),m=p[0],f=p[1],O=Object(i.useState)(""),y=Object(j.a)(O,2),v=y[0],C=y[1],S=Object(i.useState)(""),N=Object(j.a)(S,2),w=N[0],E=N[1],M=Object(i.useState)(""),A=Object(j.a)(M,2),T=A[0],I=A[1];var D=Object(i.useState)([]),B=Object(j.a)(D,2),F=B[0],G=B[1],z=Object(i.useContext)(g).currentUser,H=Object(i.useContext)(P).business,V=Object(i.useContext)(k).admin,W=Object.keys(H.groups).sort();Object(i.useEffect)((function(){h.collection("users").where("businessID","==",V.companyID).get().then((function(e){G(e.docs.map((function(e,t){return{email:e.id,id:t,group:e.data().group}})))})).catch((function(e){console.log(e)}))}),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(xe,{title:"Manage Employees",crumbs:["Dashboard","People","Employees"]}),Object(x.jsx)(ze,{rows:F,columns:He,setSelected:u,height:500,onClickAdd:function(){return c(!0)},onClickDelete:function(){n(!0)},tableName:"Employees",addButtonText:"Add Employees"}),Object(x.jsxs)(Pe.a,{open:o,onClose:function(){return c(!1)},"aria-labelledby":"form-dialog-title",children:[Object(x.jsx)(Me.a,{id:"form-dialog-title",children:"Add Users"}),Object(x.jsxs)(we.a,{children:[Object(x.jsx)(Ee.a,{children:"To add users to this organization, please enter their email addresses below and select a group from the dropdown."}),Object(x.jsx)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:"Emails"}),Object(x.jsx)(le.a,{id:"emailaddresses",variant:"outlined",label:"",placeholder:"Insert emails separated by commas or newlines",value:v,onChange:function(e){C(e.target.value),""===e.target.value?E("Please input atleast one email"):ve(e.target.value)?E(""):E("Please input proper emails")},fullWidth:!0,multiline:!0,rows:4,rowsMax:4,error:""!=w,helperText:w}),Object(x.jsx)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:"Perk Group"}),Object(x.jsxs)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,variant:"outlined",value:m,fullWidth:!0,onChange:function(e){I(""),f(e.target.value)},error:""!=T,children:[Object(x.jsx)(ue.a,{value:"",disabled:!0,children:"Select Perk Group"}),W.map((function(e){return Object(x.jsx)(ue.a,{value:e,children:e},e)}))]})]}),Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(je.a,{onClick:function(){return c(!1)},color:"primary",children:"Cancel"}),Object(x.jsx)(je.a,{onClick:function(e){e.preventDefault();var t=!1;""==v&&(E("Enter emails"),t=!0),0==m.length&&(I("Select perks"),t=!0),t||(c(!1),Object(oe.a)(ie.a.mark((function e(){var t,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getIdToken();case 2:return t=e.sent,a=v.replace(/[,'"]+/gi," ").split(/\s+/),e.next=6,ye.put("user/auth/updatePerkGroup",JSON.stringify({group:m,perks:[],emails:a.concat(F.filter((function(e){return e.group==m})).map((function(e){return e.email})))}),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 6:case"end":return e.stop()}}),e)})))())},color:"primary",children:"Add Users"})]})]}),Object(x.jsxs)(Pe.a,{open:a,onClose:function(){return n(!1)},"aria-labelledby":"form-dialog-title",children:[Object(x.jsx)(Me.a,{id:"form-dialog-title",children:"Delete Users"}),Object(x.jsx)(we.a,{children:Object(x.jsx)(Ee.a,{children:"Are you sure you want to delete these users? This cannot be undone."})}),Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(je.a,{onClick:function(){return n(!1)},color:"primary",children:"No"}),Object(x.jsx)(je.a,{onClick:function(){return n(!1)},color:"primary",children:"Yes"})]})]})]})}var We=a(508),Re=function(e){var t=e.isModalVisible,a=e.setIsModalVisible,n=e.title,r=e.description,s=e.onConfirmation;return Object(x.jsxs)(Pe.a,{open:t,onClose:function(){return a(!1)},"aria-labelledby":"form-dialog-title",children:[Object(x.jsx)(Me.a,{id:"form-dialog-title",children:n}),Object(x.jsx)(we.a,{children:Object(x.jsx)(Ee.a,{children:r})}),Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(je.a,{onClick:function(){return a(!1)},color:"primary",children:"No"}),Object(x.jsx)(je.a,{onClick:function(){s(),a(!1)},color:"primary",children:"Yes"})]})]})},Ze=function(e){var t=e.isAddEmployeesModalVisible,a=e.setIsAddEmployeesModalVisible,n=e.employees,r=e.group,s=e.selectedPerks,o=Object(i.useState)(""),c=Object(j.a)(o,2),l=c[0],d=c[1],u=Object(i.useState)(""),b=Object(j.a)(u,2),p=b[0],m=b[1],h=Object(i.useContext)(g).currentUser;return Object(x.jsxs)(Pe.a,{open:t,onClose:function(){return a(!1)},"aria-labelledby":"form-dialog-title",children:[Object(x.jsx)(Me.a,{id:"form-dialog-title",children:"Add Users"}),Object(x.jsxs)(we.a,{children:[Object(x.jsx)(Ee.a,{children:"To add users to this perk group, please enter their email addresses below."}),Object(x.jsx)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:"Emails"}),Object(x.jsx)(le.a,{id:"emailaddresses",variant:"outlined",label:"",placeholder:"Insert emails separated by commas or newlines",value:l,onChange:function(e){d(e.target.value),""===e.target.value?m("Please input atleast one email"):ve(e.target.value)?m(""):m("Please input proper emails")},fullWidth:!0,multiline:!0,rows:4,rowsMax:4,error:""!=p,helperText:p}),Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(je.a,{onClick:function(){return a(!1)},color:"primary",children:"Cancel"}),Object(x.jsx)(je.a,{onClick:function(e){e.preventDefault();var t=!1;""==l&&(m("Enter emails"),t=!0),t||(a(!1),Object(oe.a)(ie.a.mark((function e(){var t,a,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getIdToken();case 2:return t=e.sent,a=l.replace(/[,'"]+/gi," ").split(/\s+/),i=a.concat(n.map((function(e){return e.email}))),console.log(i),e.next=8,ye.put("user/auth/updatePerkGroup",JSON.stringify({group:r,perks:s.map((function(e){return e.Name})),emails:i}),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 8:case"end":return e.stop()}}),e)})))())},color:"primary",children:"Add Users"})]})]})]})},Ue=function(e){var t=e.isAddPerksModalVisible,a=e.setIsAddPerksModalVisible,n=e.selectedPerks,r=e.group,s=e.emails,o=Object(i.useState)([]),c=Object(j.a)(o,2),l=c[0],d=c[1],u=Object(i.useState)(""),b=Object(j.a)(u,2),p=b[0],m=b[1],h=Object(i.useState)(Ce.map((function(e){return e.Name}))),f=Object(j.a)(h,2),O=f[0],y=(f[1],Object(i.useContext)(g).currentUser);return Object(x.jsxs)(Pe.a,{open:t,onClose:function(){return a(!1)},"aria-labelledby":"form-dialog-title",children:[Object(x.jsx)(Me.a,{id:"form-dialog-title",children:"Add Perks"}),Object(x.jsxs)(we.a,{children:[Object(x.jsx)(Ee.a,{children:"To add users to this organization, please enter their email addresses below and select a group from the dropdown."}),Object(x.jsx)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:"Perks"}),Object(x.jsx)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,renderValue:function(e){return 0===e.length?"Select Perks":e.join(", ")},variant:"outlined",value:l,multiple:!0,fullWidth:!0,label:"Select Group",placeholder:"Select Gruop",onChange:function(e){d(e.target.value)},error:""!=p,children:O.map((function(e){return Object(x.jsx)(ue.a,{value:e,children:e},e)}))})]}),Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(je.a,{onClick:function(){return a(!1)},color:"primary",children:"Cancel"}),Object(x.jsx)(je.a,{onClick:function(e){e.preventDefault();var t=!1;0==l.length&&(m("Select perks"),t=!0),t||(a(!1),Object(oe.a)(ie.a.mark((function e(){var t,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getIdToken();case 2:return t=e.sent,a=l.concat(n.map((function(e){return e.Name}))),console.log(a),e.next=7,ye.put("user/auth/updatePerkGroup",JSON.stringify({group:r,emails:s.map((function(e){return e.email})),perks:a}),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 7:case"end":return e.stop()}}),e)})))())},color:"primary",children:"Add Perks"})]})]})},Le=function(e){var t=e.isRemoveEmployeesModalVisible,a=e.setIsRemoveEmployeesModalVisible;e.selectedEmployees,e.setSelectedEmployees;return Object(x.jsxs)(Pe.a,{open:t,onClose:function(){return a(!1)},"aria-labelledby":"form-dialog-title",children:[Object(x.jsx)(Me.a,{id:"form-dialog-title",children:"Delete Users"}),Object(x.jsx)(we.a,{children:Object(x.jsx)(Ee.a,{children:"Are you sure you want to remove these employees?"})}),Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(je.a,{onClick:function(){return a(!1)},color:"primary",children:"No"}),Object(x.jsx)(je.a,{onClick:function(){return a(!1)},color:"primary",children:"Yes"})]})]})},Je=function(e){var t=e.isRemovePerksModalVisible,a=e.setIsRemovePerksModalVisible;e.selectedPerks,e.setSelectedPerks;return Object(x.jsxs)(Pe.a,{open:t,onClose:function(){return a(!1)},"aria-labelledby":"form-dialog-title",children:[Object(x.jsx)(Me.a,{id:"form-dialog-title",children:"Delete Users"}),Object(x.jsx)(we.a,{children:Object(x.jsx)(Ee.a,{children:"Are you sure you want to remove these perks?"})}),Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(je.a,{onClick:function(){return a(!1)},color:"primary",children:"No"}),Object(x.jsx)(je.a,{onClick:function(){return a(!1)},color:"primary",children:"Yes"})]})]})},_e=[{field:"email",headerName:"Email",width:300,editable:!1}],qe=[{field:"Name",headerName:"Perk Name",width:150,editable:!1},{field:"Cost",headerName:"Cost",width:150,editable:!1},{field:"Period",headerName:"Period",width:150,editable:!1}];function Ye(){var e=Object(b.i)().id,t=Object(i.useState)(!1),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(i.useState)(!1),o=Object(j.a)(s,2),c=o[0],l=o[1],u=Object(i.useState)(!1),p=Object(j.a)(u,2),m=p[0],f=p[1],O=Object(i.useState)(!1),y=Object(j.a)(O,2),v=y[0],C=y[1],S=Object(i.useState)(!1),N=Object(j.a)(S,2),w=N[0],E=N[1],M=Object(i.useState)([]),A=Object(j.a)(M,2),T=A[0],I=A[1],D=Object(i.useState)([]),B=Object(j.a)(D,2),F=B[0],G=B[1],z=Object(i.useState)([]),H=Object(j.a)(z,2),V=H[0],W=H[1],R=Object(i.useState)(!1),U=Object(j.a)(R,2),L=U[0],J=U[1],_=Object(i.useContext)(k).admin,q=Object(i.useContext)(P).business,Y=Object(b.g)();var K=Object(i.useState)([]),Q=Object(j.a)(K,2),$=Q[0],X=Q[1],ee=Object(i.useContext)(g).currentUser;return Object(i.useEffect)((function(){0!=Object.keys(_).length&&h.collection("users").where("businessID","==",_.companyID).where("group","==",e).get().then((function(e){X(e.docs.map((function(e,t){return{email:e.id,id:t}})))})).catch((function(e){console.log("Error getting documents: ",e)}))}),[_,e]),Object(i.useEffect)((function(){0!=Object.keys(q).length&&(Object.keys(q.groups).includes(e)?(W(q.groups[e].map((function(e,t){return Object(d.a)({id:t},ke[e])}))),E(!1)):E(!0))}),[q,e]),w?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(xe,{title:"Manage Perk Groups",crumbs:["Dashboard","Perk Groups",e]}),Object(x.jsxs)("div",{style:{width:"50%",marginTop:"100px"},children:[Object(x.jsx)(Z.a,{variant:"h2",children:"Perk Group Not Found"}),Object(x.jsx)(Z.a,{variant:"h5",style:{marginTop:"20px"},children:"The perk group could not be found. Please email contact@getperkify.com if you think this is an error"})]})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(xe,{title:"Manage Perk Groups",crumbs:["Dashboard","Perk Groups",e],button:{type:"delete",onClick:function(){J(!0)}}}),Object(x.jsxs)(We.a,{container:!0,spacing:5,children:[Object(x.jsx)(We.a,{item:!0,sm:6,xs:12,children:Object(x.jsx)(ze,{rows:V,height:600,columns:qe,setSelected:I,onClickAdd:function(){C(!0)},onClickDelete:function(){f(!0)},tableName:"Group Perks",addButtonText:"Add Group Perk"})}),Object(x.jsx)(We.a,{item:!0,sm:6,xs:12,children:Object(x.jsx)(ze,{height:600,rows:$,columns:_e,setSelected:G,onClickAdd:function(){l(!0)},onClickDelete:function(){r(!0)},tableName:"Group Employees",addButtonText:"Add Employees"})})]}),Object(x.jsx)(Ze,{isAddEmployeesModalVisible:c,setIsAddEmployeesModalVisible:l,group:e,employees:$,selectedPerks:V}),Object(x.jsx)(Le,{isRemoveEmployeesModalVisible:n,setIsRemoveEmployeesModalVisible:r,selectedEmployees:F,setSelectedEmployees:G}),Object(x.jsx)(Ue,{isAddPerksModalVisible:v,setIsAddPerksModalVisible:C,selectedPerks:V,group:e,emails:$}),Object(x.jsx)(Je,{isRemovePerksModalVisible:m,setIsRemovePerksModalVisible:f,selectedPerks:T,setSelectedPerks:I}),Object(x.jsx)(Re,{isModalVisible:L,setIsModalVisible:J,title:"Delete Perk Group",description:"Are you sure you want to delete this perk group and all of its employees? This cannot be undone.",onConfirmation:function(){Object(oe.a)(ie.a.mark((function t(){var a;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee.getIdToken();case 2:return a=t.sent,t.next=5,ye.post("user/auth/deletePerkGroup",JSON.stringify({group:e}),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});case 5:Y.push("/dashboard");case 6:case"end":return t.stop()}}),t)})))()}})]})}var Ke=function(){return Object(x.jsx)("div",{children:Object(x.jsx)(xe,{title:"Dashboard",crumbs:["Dashboard"]})})},Qe=function(){var e=Object(b.j)(),t=e.path;e.url;return Object(x.jsx)(re,{children:Object(x.jsxs)(b.d,{children:[Object(x.jsx)(b.b,{exact:!0,path:t,component:Ke}),Object(x.jsx)(b.b,{path:"".concat(t,"/people"),component:Ve}),Object(x.jsx)(b.b,{path:"".concat(t,"/group/:id"),component:Ye}),Object(x.jsx)(b.b,{path:"".concat(t,"/create/group"),component:Se})]})})},$e=a(509),Xe=a(181),et=a(8),tt=Object(et.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(2)}}}}))(le.a),at=Object(V.a)((function(e){return{root:{fontFamily:"Plusjakartadisplay",minHeight:"100vh"},label:{fontFamily:"Plusjakartadisplay",fontSize:"14px",color:"#152c5b"},footer:{fontFamily:"Plusjakartadisplay",color:"#8a95ad",fontSize:"14px",textAlign:"center"}}})),nt=function(){var e=at(),t=o.a.useState(""),a=Object(j.a)(t,2),n=a[0],r=a[1],s=o.a.useState(""),i=Object(j.a)(s,2),c=i[0],l=i[1],d=o.a.useState(""),u=Object(j.a)(d,2),b=u[0],p=u[1],m=o.a.useState(""),h=Object(j.a)(m,2),f=h[0],O=h[1],g=o.a.useState(!1),y=Object(j.a)(g,2),v=y[0],C=y[1],k=o.a.useState(!1),S=Object(j.a)(k,2),P=S[0],N=S[1],w={firstName:n,lastName:c,email:b,dob:f},E=function(){var e=Object(oe.a)(ie.a.mark((function e(){var t,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Object.values(w).some((function(e){return""===e}))){e.next=4;break}return C(!0),e.abrupt("return");case 4:return C(!1),t=new Date(new Date(f)).toLocaleDateString(),console.log(t),e.next=9,ye.post("user/registerUser",JSON.stringify({email:b,firstName:n,lastName:c,dob:t}));case 9:if(200==(a=e.sent).status){e.next=13;break}throw console.log(a),{status:a.status,reason:a.statusText};case 13:N(!0),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),alert(JSON.stringify(e.t0)),N(!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),M=function(e){return function(t){e(t.target.value)}};return Object(x.jsx)($e.a,{children:Object(x.jsx)(We.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",className:e.root,children:P?Object(x.jsx)("h1",{children:"Success!"}):Object(x.jsxs)(We.a,{container:!0,spacing:3,children:[Object(x.jsxs)(We.a,{item:!0,xs:12,md:12,children:[Object(x.jsx)(Xe.a,{htmlFor:"email",className:e.label,children:"Email"}),Object(x.jsx)(tt,{placeholder:"johnsmith@mybusiness.com",id:"email",variant:"outlined",onChange:M(p),value:b,error:""===b&&v,style:{width:"100%"}})]}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:4,children:[Object(x.jsx)(Xe.a,{htmlFor:"firstName",className:e.label,children:"First Name"}),Object(x.jsx)(tt,{placeholder:"John",id:"firstName",variant:"outlined",style:{width:"100%"},onChange:M(r),value:n,error:""===n&&v})]}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:4,children:[Object(x.jsx)(Xe.a,{htmlFor:"lastName",className:e.label,children:"Last Name"}),Object(x.jsx)(tt,{placeholder:"Smith",id:"lastName",variant:"outlined",style:{width:"100%"},onChange:M(l),value:c,error:""===c&&v})]}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:4,children:[Object(x.jsx)(Xe.a,{htmlFor:"dob",className:e.label,children:"Date of Birth"}),Object(x.jsx)(tt,{id:"dob",type:"date",style:{width:"100%"},onChange:M(O),value:f,error:""===f&&v})]}),Object(x.jsx)(We.a,{item:!0,xs:12,md:12,children:Object(x.jsx)(je.a,{variant:"contained",color:"primary",style:{width:"100%",height:"60px",textTransform:"none"},disableElevation:!0,onClick:E,children:"Get an Email with your Card"})}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:12,className:e.footer,children:["Already logged in once before?",Object(x.jsx)("a",{href:"https://www.getperkify.com/view-my-card",className:"sign-in",children:"\xa0Sign In"})]})]})})})},rt=function(e){e.history;var t=Object(i.useState)(Ce.map((function(e){return e.Name}))),a=Object(j.a)(t,2),n=a[0],r=(a[1],Object(i.useState)(0)),s=Object(j.a)(r,2),o=s[0],c=s[1],l=Object(i.useState)(0),d=Object(j.a)(l,2),u=d[0],b=d[1],p=Object(i.useState)(0),m=Object(j.a)(p,2),h=m[0],f=m[1],O=(Object(i.useContext)(g).currentUser,Object(i.useState)("")),y=Object(j.a)(O,2),v=y[0],C=y[1],k=Object(i.useState)(""),S=Object(j.a)(k,2),P=S[0],N=S[1],w=Object(i.useState)([]),E=Object(j.a)(w,2),M=E[0],A=E[1],T=Object(i.useState)(""),I=Object(j.a)(T,2),D=I[0],B=I[1],F=Object(i.useState)(""),G=Object(j.a)(F,2),z=G[0],H=G[1],V=Object(i.useState)(""),W=Object(j.a)(V,2),R=W[0],U=W[1];return Object(x.jsxs)($e.a,{style:{paddingTop:"50px"},maxWidth:"md",children:[Object(x.jsx)(xe,{title:"Create Group"}),Object(x.jsxs)(ce.a,{style:{width:700,padding:30,margin:"80px auto 0 auto"},elevation:4,children:[Object(x.jsx)(Z.a,{style:{marginBottom:"15px"},children:"Group Name"}),Object(x.jsx)(le.a,{id:"group_name",variant:"outlined",label:"Group Name",placeholder:"Cole's Group",value:v,onChange:function(e){C(e.target.value),B("")},fullWidth:!0,error:""!=D,helperText:D}),Object(x.jsx)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:"Emails"}),Object(x.jsx)(le.a,{id:"emailaddresses",variant:"outlined",label:"",placeholder:"Insert emails separated by commas or newlines",value:P,onChange:function(e){!function(e){N(e.target.value),""===e.target.value?H("Please input atleast one email"):ve(e.target.value)?H(""):H("Please input proper emails")}(e);var t=o;if(""===e.target.value)t=0;else if(ve(e.target.value)){t=e.target.value.replace(/[,'"]+/gi," ").split(/\s+/).length}else;c(t),f(t*u)},fullWidth:!0,multiline:!0,rows:4,rowsMax:4,error:""!=z,helperText:z}),Object(x.jsx)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:"Perks"}),Object(x.jsx)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,renderValue:function(e){return 0===e.length?"Select Perks":e.join(", ")},variant:"outlined",value:M,multiple:!0,fullWidth:!0,label:"Select Group",placeholder:"Select Gruop",onChange:function(e){var t=e.target.value;U(""),A(t);var a=0;t.forEach((function(e){a+=ke[e].Cost})),b(a),f(a*o)},error:""!=R,children:n.map((function(e){return Object(x.jsx)(ue.a,{value:e,children:e},e)}))}),Object(x.jsxs)(Z.a,{style:{marginTop:"30px",marginBottom:"15px"},children:["Estimated Cost: $",h]}),Object(x.jsx)(je.a,{onClick:function(e){e.preventDefault();""==v&&B("Enter a group name"),""==P&&H("Enter emails"),0==M.length&&U("Select perks")},variant:"contained",color:"primary",children:"Create Perk Group"})]})]})},st=a(522),it=a(450),ot=a(510),ct=(a(264),a(265)),lt=a.n(ct),dt=a(513);var ut=Object(V.a)((function(e){return{loginRoot:{height:"100%"},particles:{backgroundColor:e.palette.primary.main,position:"absolute"},image:{backgroundImage:"url(/SignUpGraphic.png)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function jt(e){var t=ut(),a=Object(i.useState)(""),r=Object(j.a)(a,2),s=r[0],o=r[1],c=Object(i.useState)(""),l=Object(j.a)(c,2),d=l[0],u=l[1],p=Object(i.useState)(!1),m=Object(j.a)(p,2),h=(m[0],m[1],Object(i.useState)(!1)),f=Object(j.a)(h,2),g=f[0],y=f[1],v=Object(i.useState)(!1),C=Object(j.a)(v,2),k=C[0],S=C[1],P=Object(i.useState)(""),N=Object(j.a)(P,2),w=N[0],E=N[1],A=(e.user,e.setUser,Object(b.g)()),I=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),console.log("Loading set to true"),e.prev=3,e.next=6,O.auth().signInWithEmailAndPassword(s,d);case 6:y(!1),A.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),y(!1),a=e.t0.message,console.log(a),E(a),S(!0);case 14:case"end":return e.stop()}var a}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e,t){"clickaway"!==t&&S(!1)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(st.a,{open:k,autoHideDuration:4e3,onClose:D,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(x.jsx)(dt.a,{onClose:D,elevation:6,variant:"filled",severity:"error",children:w})}),g&&Object(x.jsx)("div",{style:{display:"flex",position:"absolute",height:"100vh",width:"100vw",justifyContent:"center",alignItems:"center"},children:Object(x.jsx)(it.a,{color:"secondary",style:{zIndex:20}})}),Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(x.jsx)(ce.a,{style:{height:"600px",width:"60vw",zIndex:10},elevation:6,children:Object(x.jsxs)(We.a,{container:!0,component:"main",className:t.loginRoot,children:[Object(x.jsx)(n.a,{}),Object(x.jsx)(We.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(x.jsx)(We.a,{item:!0,xs:12,sm:8,md:5,component:M.a,elevation:6,square:!0,children:Object(x.jsxs)("div",{className:t.paper,children:[Object(x.jsx)(T.a,{className:t.avatar,children:Object(x.jsx)(lt.a,{})}),Object(x.jsx)(Z.a,{component:"h1",variant:"h5",children:"Perkify Dashboard Login"}),Object(x.jsx)(Z.a,{component:"h3",variant:"caption",children:"Enter perkify credentials to login"}),Object(x.jsxs)("form",{className:t.form,onSubmit:I,noValidate:!0,children:[Object(x.jsx)(le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:s,onChange:function(e){return o(e.target.value)}}),Object(x.jsx)(le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){return u(e.target.value)}}),Object(x.jsx)(je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(x.jsx)(We.a,{container:!0,children:Object(x.jsx)(We.a,{item:!0,xs:!0,children:Object(x.jsx)(ot.a,{href:"https://www.mcgill.ca/it/stay-safe-online/pw-reset",variant:"body2",children:"Forgot password?"})})})]})]})})]})})})]})}var bt,pt,mt,ht,ft,Ot,xt,gt,yt,vt,Ct,kt,St,Pt,Nt,wt,Et,Mt,At,Tt,It,Dt,Bt,Ft,Gt,zt,Ht,Vt,Wt,Rt,Zt=a(511),Ut=a(515),Lt=a(518),Jt=a.p+"static/media/SignUpGraphic.15413b21.png",_t=Object(et.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(2)}}}}))(le.a),qt=Object(V.a)((function(e){return Object(W.a)({root:{fontFamily:"Plusjakartadisplay"},image:{backgroundImage:"url(".concat(Jt,")"),backgroundRepeat:"no-repeat",backgroundColor:"#5289f2",backgroundSize:"cover",backgroundPosition:"center"},content:{width:"100%",padding:"3% 5%"},logo:{display:"block",width:"135px",maxHeight:"40px"},header:{marginTop:"0px",marginBottom:"0px",fontFamily:"Plusjakartadisplay",color:"#152c5b",fontSize:"40px",lineHeight:"54px"},label:{fontFamily:"Plusjakartadisplay",fontSize:"14px",color:"#152c5b"},footer:{fontFamily:"Plusjakartadisplay",color:"#8a95ad",fontSize:"14px",textAlign:"center"}})})),Yt=function(e){var t=qt(),a=function(e){return function(t){e(t.target.value)}};return Object(x.jsxs)(We.a,{container:!0,spacing:3,className:t.root,children:[Object(x.jsxs)(We.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(Xe.a,{htmlFor:"firstName",className:t.label,children:"First Name"}),Object(x.jsx)(_t,{placeholder:"John",id:"firstName",variant:"outlined",style:{width:"100%"},onChange:a(e.setFirstName),value:e.firstName,error:""===e.firstName&&e.invalidStep})]}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(Xe.a,{htmlFor:"lastName",className:t.label,children:"Last Name"}),Object(x.jsx)(_t,{placeholder:"Smith",id:"lastName",variant:"outlined",style:{width:"100%"},onChange:a(e.setLastName),value:e.lastName,error:""===e.lastName&&e.invalidStep})]}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:12,children:[Object(x.jsx)(Xe.a,{htmlFor:"email",className:t.label,children:"Email"}),Object(x.jsx)(_t,{placeholder:"johnsmith@mybusiness.com",id:"email",variant:"outlined",onChange:a(e.setEmail),value:e.email,error:""===e.email&&e.invalidStep,style:{width:"100%"}})]}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:12,children:[Object(x.jsx)(Xe.a,{htmlFor:"pass",className:t.label,children:"Password"}),Object(x.jsx)(_t,{placeholder:"enter your password",id:"pass",type:"password",variant:"outlined",style:{width:"100%"},onChange:a(e.setPassword),value:e.password,error:""===e.password&&e.invalidStep})]}),Object(x.jsx)(We.a,{item:!0,xs:12,md:12,children:Object(x.jsx)(je.a,{variant:"contained",color:"primary",style:{width:"100%",height:"60px",textTransform:"none"},disableElevation:!0,onClick:function(){return e.nextStep(e.nextReady)},children:"Next"})}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:12,className:t.footer,children:["Already have an account?",Object(x.jsx)("a",{href:"/login",className:"sign-in",children:"\xa0Sign In"})]})]})},Kt=(Object(et.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(2)}}}}))(le.a),Object(V.a)((function(e){return Object(W.a)({root:{fontFamily:"Plusjakartadisplay"},image:{backgroundImage:"url(".concat(Jt,")"),backgroundRepeat:"no-repeat",backgroundColor:"#5289f2",backgroundSize:"cover",backgroundPosition:"center"},content:{width:"100%",padding:"3% 5%"},logo:{display:"block",width:"135px",maxHeight:"40px"},header:{marginTop:"0px",marginBottom:"0px",fontFamily:"Plusjakartadisplay",color:"#152c5b",fontSize:"40px",lineHeight:"54px"},label:{fontFamily:"Plusjakartadisplay",fontSize:"14px",color:"#152c5b"},footer:{fontFamily:"Plusjakartadisplay",color:"#8a95ad",fontSize:"14px",textAlign:"center"}})}))),Qt=function(e){var t=Kt(),a=function(e){return function(t){e(t.target.value)}};return Object(x.jsxs)(We.a,{container:!0,spacing:3,className:t.root,children:[Object(x.jsx)(We.a,{item:!0,xs:12,sm:12,children:Object(x.jsx)(le.a,{required:!0,id:"bizName",name:"Business Name",label:"Businesss name",variant:"outlined",fullWidth:!0,autoComplete:"given-name",onChange:a(e.setBusinessName),value:e.businessName,error:""===e.businessName&&e.invalidStep})}),Object(x.jsx)(We.a,{item:!0,xs:12,children:Object(x.jsx)(le.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",variant:"outlined",fullWidth:!0,autoComplete:"shipping address-line1",onChange:a(e.setAddress),value:e.address1,error:""===e.address1&&e.invalidStep})}),Object(x.jsx)(We.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(le.a,{required:!0,id:"city",name:"city",label:"City",variant:"outlined",fullWidth:!0,autoComplete:"shipping address-level2",onChange:a(e.setCity),value:e.city,error:""===e.city&&e.invalidStep})}),Object(x.jsx)(We.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(le.a,{id:"state",name:"state",label:"State (2 letter code)",variant:"outlined",fullWidth:!0,inputProps:{maxLength:2},onChange:a(e.setState),value:e.state,error:""===e.state&&e.invalidStep})}),Object(x.jsx)(We.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(le.a,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",variant:"outlined",fullWidth:!0,autoComplete:"shipping postal-code",onChange:a(e.setZip),value:e.zip,error:""===e.zip&&e.invalidStep})}),Object(x.jsx)(We.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(le.a,{required:!0,id:"phoneNumber",name:"Phone Number",label:"Phone Number",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,autoComplete:"phone number",onChange:a(e.setPhone),value:e.phone,error:""===e.phone&&e.invalidStep})}),Object(x.jsx)(We.a,{item:!0,xs:6,md:6,children:Object(x.jsx)(je.a,{style:{width:"100%",height:"60px",textTransform:"none"},disableElevation:!0,onClick:e.backStep,children:"Back"})}),Object(x.jsx)(We.a,{item:!0,xs:6,md:6,children:Object(x.jsx)(je.a,{variant:"contained",color:"primary",style:{width:"100%",height:"60px",textTransform:"none"},disableElevation:!0,onClick:function(){return e.nextStep(e.nextReady)},children:"Create Account"})}),Object(x.jsxs)(We.a,{item:!0,xs:12,md:12,className:t.footer,children:["Already have an account?",Object(x.jsx)("a",{href:"/login",className:"sign-in",children:"\xa0Sign In"})]})]})},$t=["title","titleId"];function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ea(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ta(e,t){var a=e.title,n=e.titleId,r=ea(e,$t);return i.createElement("svg",Xt({id:"a51d4639-2054-454d-a26d-938e218c2a6d","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:890,height:729.78732,viewBox:"0 0 890 729.78732",ref:t,"aria-labelledby":n},r),a?i.createElement("title",{id:n},a):null,bt||(bt=i.createElement("path",{d:"M374.67742,751.01587l1.81026,38.1569.00007.00154a24.3452,24.3452,0,0,1-23.16357,25.46925l-.79019.03746-2.96371-62.47386Z",transform:"translate(-155 -85.10634)",fill:"#2f2e41"})),pt||(pt=i.createElement("path",{d:"M917.17122,686.53355c-18.17322,35.46508-41.224,69.7641-70.38922,100.80761-.64771.70105-1.30188,1.384-1.96192,2.07929l-69.10083-32.713c.42273-.70234.88623-1.49061,1.38458-2.3526,29.68323-50.787,208.86487-360.59147,203.20295-430.75837C980.96632,329.38352,1002.20491,520.76548,917.17122,686.53355Z",transform:"translate(-155 -85.10634)",fill:"#e6e6e6"})),mt||(mt=i.createElement("path",{d:"M860.11317,793.65232c-.96722.54981-1.959,1.088-2.95721,1.60809l-51.83789-24.54052c.72473-.51422,1.569-1.1222,2.53943-1.80591,15.88128-11.40253,63.10528-45.61328,109.31366-82.38043,49.658-39.51087,98.15216-81.96412,105.35394-102.22834C1021.06221,588.952,975.61067,730.20231,860.11317,793.65232Z",transform:"translate(-155 -85.10634)",fill:"#e6e6e6"})),ht||(ht=i.createElement("circle",{cx:86.22975,cy:648.0507,r:80,fill:"#5289f2"})),ft||(ft=i.createElement("path",{d:"M273.2751,699.58573H209.18439a10.69386,10.69386,0,0,0-10.68178,10.68176v45.779a10.69381,10.69381,0,0,0,10.68178,10.68182h64.09077A10.69381,10.69381,0,0,0,283.957,756.04649v-45.779A10.69383,10.69383,0,0,0,273.2751,699.58573Zm0,6.10388a4.559,4.559,0,0,1,1.13373.14789l-33.17169,26.46131-32.97773-26.51514a4.58034,4.58034,0,0,1,.92491-.09406Zm0,54.93482H209.18439a4.58319,4.58319,0,0,1-4.5779-4.57794V710.67857l34.711,27.90887a3.052,3.052,0,0,0,3.81549.00726l34.72012-27.69677v45.14849A4.58318,4.58318,0,0,1,273.2751,760.62443Z",transform:"translate(-155 -85.10634)",fill:"#fff"})),Ot||(Ot=i.createElement("path",{d:"M549.9684,617.65757l17.90008.14728a12.45369,12.45369,0,0,0,12.39838-14.43006h0a12.45377,12.45377,0,0,0-17.80695-9.19146L545.57942,602.513l-57.73651,12.87561-24.7352-25.28925-14.20819,23.401,33.378,25.78785Z",transform:"translate(-155 -85.10634)",fill:"#ffb8b8"})),xt||(xt=i.createElement("path",{d:"M546.61342,802.59623l-21.08948,4.05566c-14.40533-45.4085-30.013-88.41082-30.012-121.67016-20.38611,22.689-45.66654,35.66931-75.43552,39.7456l3.24454-50.29034,24.334-12.97815,37.243-17.18909a28.28091,28.28091,0,0,1,10.36481-2.5639h0a28.28067,28.28067,0,0,1,29.41186,23.7735Z",transform:"translate(-155 -85.10634)",fill:"#2f2e41"})),gt||(gt=i.createElement("path",{d:"M445.62712,718.64384l-8.40558,6.38824a26.03086,26.03086,0,0,1-25.66205,3.3454h0C387.48408,710.3314,370.38,715.65526,354.878,742.89366c-18.59411-20.98529-23.18156-51.29462-6.587-82.6515L440.35475,662.27l18.6561-5.67792Z",transform:"translate(-155 -85.10634)",fill:"#2f2e41"})),yt||(yt=i.createElement("path",{d:"M414.96663,812.623h0a23.5069,23.5069,0,0,1-27.81977-11.721c-8.27362-7.28741-15.25454-17.72094-21.30929-30.40863a235.35256,235.35256,0,0,1-11.16718-28.68322c-4.18966-12.94007,2.81586-27.07679,15.85471-30.94812q.58159-.17268,1.17737-.32557c17.40628-4.46887,35.28122,5.57062,41.23114,22.5279l17.30115,49.30829a23.50693,23.50693,0,0,1-14.39835,29.964Q415.40437,812.48826,414.96663,812.623Z",transform:"translate(-155 -85.10634)",fill:"#2f2e41"})),i.createElement("path",{d:"M362.8914,764.87846s20.27835,22.71179,24.334,35.68994",transform:"translate(-155 -85.10634)",opacity:.2,style:{isolation:"isolate"}}),vt||(vt=i.createElement("path",{d:"M284.244,657.693l-6.7868,16.56427a12.45392,12.45392,0,0,0,8.79114,16.872h0a12.45388,12.45388,0,0,0,15.14907-13.11774l-1.46231-18.767,9.4957-58.38764,32.66858-13.56958-16.44763-21.885L289.30925,586.811Z",transform:"translate(-155 -85.10634)",fill:"#ffb8b8"})),Ct||(Ct=i.createElement("path",{d:"M446.43825,660.2421c-23.30585,39.14728-69.76678,54.306-109.5603,23.65156,7-23,29.60041-86.56659,15-89-31,13-31.045-17.52289-36.84348-32.7989l70.56869-25.95629,38.12336,10.54473,7.81478,2.773a26.41991,26.41991,0,0,1,17.58228,24.53687C433.10939,597.12864,421.25426,621.80863,446.43825,660.2421Z",transform:"translate(-155 -85.10634)",fill:"#5289f2"})),kt||(kt=i.createElement("path",{d:"M455.36073,628.60789,427.3766,605.49058l9.32806-53.94043,38.12333,40.5567Z",transform:"translate(-155 -85.10634)",fill:"#5289f2"})),St||(St=i.createElement("path",{id:"bc7f4772-a479-43ba-84b6-0038831d0625","data-name":"b82a9922-ead1-40af-af3b-f133b244cde7",d:"M919.70454,258.05134h-4v-109.545a63.4,63.4,0,0,0-63.4-63.4h-232.087a63.4,63.4,0,0,0-63.4,63.4v600.974a63.4,63.4,0,0,0,63.4,63.4H852.30348a63.4,63.4,0,0,0,63.4-63.4V336.02732h4Z",transform:"translate(-155 -85.10634)",fill:"#3f3d56"})),Pt||(Pt=i.createElement("path",{id:"e7549b14-e146-4c1f-8b4f-7638ef62aaf0","data-name":"b2a7827b-2d2c-407d-93be-35e4c67116bc",d:"M854.8625,101.59933h-30.295a22.495,22.495,0,0,1-20.828,30.994h-132.959a22.495,22.495,0,0,1-20.827-30.991h-28.3a47.348,47.348,0,0,0-47.348,47.348v600.089a47.348,47.348,0,0,0,47.348,47.348H854.85353a47.348,47.348,0,0,0,47.348-47.348v-.00013h0V148.9473a47.348,47.348,0,0,0-47.348-47.348h.009Z",transform:"translate(-155 -85.10634)",fill:"#fff"})),Nt||(Nt=i.createElement("circle",{id:"f4a12a6a-3235-4aa9-87a4-fdfa38e5097e","data-name":"e6b07811-3d0f-4972-ba4c-46b0c6566e33",cx:583.65849,cy:651.74596,r:26,fill:"#e6e6e6"})),wt||(wt=i.createElement("path",{d:"M633.1822,496.40455c-2.45764,0-4.45758,2.28274-4.45758,5.08789s1.99994,5.08789,4.45758,5.08789H843.32478c2.45764,0,4.45758-2.28275,4.45758-5.08789s-1.99994-5.08789-4.45758-5.08789Z",transform:"translate(-155 -85.10634)",fill:"#e6e6e6"})),Et||(Et=i.createElement("path",{d:"M633.1822,616.40458c-2.45764,0-4.45758,2.28271-4.45758,5.08789s1.99994,5.08789,4.45758,5.08789H843.32478c2.45764,0,4.45758-2.28271,4.45758-5.08789s-1.99994-5.08789-4.45758-5.08789Z",transform:"translate(-155 -85.10634)",fill:"#e6e6e6"})),Mt||(Mt=i.createElement("path",{d:"M633.1822,526.93192c-2.45764,0-4.45758,2.28272-4.45758,5.08789s1.99994,5.08789,4.45758,5.08789h90.425c2.45764,0,4.45758-2.28271,4.45758-5.08789s-1.99994-5.08789-4.45758-5.08789Z",transform:"translate(-155 -85.10634)",fill:"#e6e6e6"})),At||(At=i.createElement("path",{d:"M633.1822,556.03031c-2.45764,0-4.45758,2.28272-4.45758,5.08789s1.99994,5.08789,4.45758,5.08789H843.32478c2.45764,0,4.45758-2.28271,4.45758-5.08789s-1.99994-5.08789-4.45758-5.08789Z",transform:"translate(-155 -85.10634)",fill:"#e6e6e6"})),Tt||(Tt=i.createElement("path",{d:"M633.1822,586.55772c-2.45764,0-4.45758,2.28271-4.45758,5.08789s1.99994,5.08789,4.45758,5.08789h90.425c2.45764,0,4.45758-2.28272,4.45758-5.08789s-1.99994-5.08789-4.45758-5.08789Z",transform:"translate(-155 -85.10634)",fill:"#e6e6e6"})),It||(It=i.createElement("path",{d:"M672.85322,264.7335H803.66676a5.457,5.457,0,0,1,5.45056,5.45053V406.42094a5.457,5.457,0,0,1-5.45056,5.45053H672.85322a5.457,5.457,0,0,1-5.45056-5.45053V270.184A5.457,5.457,0,0,1,672.85322,264.7335Z",transform:"translate(-155 -85.10634)",fill:"#5289f2"})),Dt||(Dt=i.createElement("path",{d:"M775.793,383.777a3.70044,3.70044,0,1,0,.0036-7.40087H700.727a3.70044,3.70044,0,1,0-.0036,7.40087H775.793Z",transform:"translate(-155 -85.10634)",fill:"#fff"})),Bt||(Bt=i.createElement("path",{d:"M775.793,361.9748a3.70044,3.70044,0,0,0,0-7.40088H700.727a3.70044,3.70044,0,1,0-.0036,7.40088H775.793Z",transform:"translate(-155 -85.10634)",fill:"#fff"})),Ft||(Ft=i.createElement("path",{d:"M738.25972,292.828a23.29256,23.29256,0,1,1-23.29254,23.29257v0A23.3189,23.3189,0,0,1,738.25972,292.828Z",transform:"translate(-155 -85.10634)",fill:"#fff"})),Gt||(Gt=i.createElement("path",{d:"M441.06405,529.07654H371.91424a5.37113,5.37113,0,0,1-5.36508-5.36507V493.90552a39.94,39.94,0,1,1,79.88,0v29.80595A5.37113,5.37113,0,0,1,441.06405,529.07654Z",transform:"translate(-155 -85.10634)",fill:"#2f2e41"})),zt||(zt=i.createElement("circle",{cx:414.12375,cy:497.99856,r:29.28259,transform:"translate(-376.48586 537.39714) rotate(-61.33682)",fill:"#ffb6b6"})),Ht||(Ht=i.createElement("path",{d:"M455.878,496.88611H413.59454l-.4337-6.07063-2.16792,6.07063h-6.51073l-.85925-12.03182-4.29683,12.03182h-12.598V496.29a31.6298,31.6298,0,0,1,31.594-31.59431h5.96148A31.63,31.63,0,0,1,455.878,496.29Z",transform:"translate(-155 -85.10634)",fill:"#2f2e41"})),Vt||(Vt=i.createElement("path",{d:"M413.24849,534.64042a5.48116,5.48116,0,0,1-.94949-.08382l-30.9618-5.46288V477.923h34.083l-.84382.98383c-11.74017,13.69211-2.89531,35.894,3.42186,47.90957a5.28566,5.28566,0,0,1-.42,5.6119A5.34351,5.34351,0,0,1,413.24849,534.64042Z",transform:"translate(-155 -85.10634)",fill:"#2f2e41"})),Wt||(Wt=i.createElement("path",{d:"M516.33268,787.28155l38.19981-.00155h.00155A24.34522,24.34522,0,0,1,578.878,811.62353v.79108l-62.54411.00232Z",transform:"translate(-155 -85.10634)",fill:"#2f2e41"})),Rt||(Rt=i.createElement("path",{d:"M1044,814.89366H156a1,1,0,0,1,0-2h888a1,1,0,0,1,0,2Z",transform:"translate(-155 -85.10634)",fill:"#cacaca"})))}var aa=i.forwardRef(ta),na=(a.p,function(e){var t=e.email,a=e.newUser,n=function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.sendEmailVerification({url:"https://app.getperkify.com/login"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{style:{padding:"5%",width:"80%",textAlign:"center"},children:[Object(x.jsx)(aa,{width:"200",height:"200"}),Object(x.jsx)("h1",{children:"Please verify your email"}),Object(x.jsx)("h2",{children:"You're almost there!"}),Object(x.jsxs)("p",{children:["We sent an email to ",t,". Click on the link to complete your signup."]}),Object(x.jsx)(je.a,{variant:"contained",color:"primary",style:{width:"50%",height:"60px",textTransform:"none"},disableElevation:!0,onClick:n,children:"Resend Verification"})]})}),ra=(a(334),Object(et.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(2)}}}}))(le.a),Object(V.a)((function(e){return Object(W.a)({root:{height:"100vh",fontFamily:"Plusjakartadisplay",backgroundColor:"white"},image:{backgroundImage:"url(".concat(Jt,")"),backgroundRepeat:"no-repeat",backgroundColor:"#5289f2",backgroundSize:"cover",backgroundPosition:"center"},content:{width:"100%",padding:"3% 5%"},logo:{display:"block",width:"135px",maxHeight:"40px"},header:{marginTop:"0px",marginBottom:"0px",fontFamily:"Plusjakartadisplay",color:"#152c5b",fontSize:"40px",lineHeight:"54px"},label:{fontFamily:"Plusjakartadisplay",fontSize:"14px",color:"#152c5b"}})}))),sa=["Admin info","Business details","Verify Email"],ia=function(){var e=ra(),t=o.a.useState(0),a=Object(j.a)(t,2),n=a[0],r=a[1],s=o.a.useState(!1),i=Object(j.a)(s,2),c=i[0],l=i[1],u=o.a.useState(""),b=Object(j.a)(u,2),p=b[0],m=b[1],h=o.a.useState(""),f=Object(j.a)(h,2),g=f[0],y=f[1],v=o.a.useState(""),C=Object(j.a)(v,2),k=C[0],S=C[1],P=o.a.useState(""),N=Object(j.a)(P,2),w=N[0],E={setFirstName:m,setLastName:y,setEmail:S,setPassword:N[1]},M={firstName:p,lastName:g,email:k,password:w},A=o.a.useState(""),T=Object(j.a)(A,2),I=T[0],D=T[1],B=o.a.useState(""),F=Object(j.a)(B,2),G=F[0],z=F[1],H=o.a.useState(""),V=Object(j.a)(H,2),W=V[0],R=V[1],Z=o.a.useState(""),U=Object(j.a)(Z,2),L=U[0],J=U[1],_=o.a.useState(""),q=Object(j.a)(_,2),Y=q[0],K=q[1],Q=o.a.useState(""),$=Object(j.a)(Q,2),X=$[0],ee={setBusinessName:D,setAddress:z,setCity:R,setState:J,setZip:K,setPhone:$[1]},te={businessName:I,address1:G,city:W,state:L,zip:Y,phone:X},ne=o.a.useState(null),re=Object(j.a)(ne,2),se=re[0],ce=re[1],le=function(){var e=Object(oe.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=0===e.t0?3:1===e.t0?4:2===e.t0?21:22;break;case 3:return e.abrupt("return",!0);case 4:return e.prev=4,e.next=7,ye.post("user/registerAdminAndBusiness",JSON.stringify(Object(d.a)(Object(d.a)({},M),te)));case 7:return e.next=9,O.auth().signInWithEmailAndPassword(k,w);case 9:return n=e.sent,ce(n.user),e.next=13,null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.sendEmailVerification({url:"https://app.getperkify.com/login"});case 13:return e.abrupt("return",!0);case 16:return e.prev=16,e.t1=e.catch(4),alert(e.t1),e.abrupt("return",!1);case 20:case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,le(n);case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=10;break}l(!1),r(n+1),e.next=11;break;case 10:l(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){r(n-1)};return Object(x.jsxs)(We.a,{container:!0,component:"main",className:e.root,children:[Object(x.jsxs)(We.a,{container:!0,direction:"column",xs:12,sm:12,md:6,className:e.content,children:[Object(x.jsx)("a",{href:"/",className:e.logo,children:Object(x.jsx)("img",{src:ae,style:{width:"100%"}})}),Object(x.jsxs)(We.a,{container:!0,justifyContent:"center",alignItems:"center",style:{height:"80vh"},children:[Object(x.jsx)(We.a,{item:!0,style:{marginTop:"90px"},children:Object(x.jsx)("h2",{className:e.header,children:"Get your business set up with Perkify"})}),Object(x.jsx)(Lt.a,{activeStep:n,style:{paddingLeft:"0",width:"90%"},children:sa.map((function(e){return Object(x.jsx)(Zt.a,{children:Object(x.jsx)(Ut.a,{children:e})},e)}))}),function(e){switch(e){case 0:return Object(x.jsx)(Yt,Object(d.a)(Object(d.a)(Object(d.a)({},E),M),{},{invalidStep:c,nextStep:de,nextReady:!Object.values(M).some((function(e){return""===e}))}));case 1:return Object(x.jsx)(Qt,Object(d.a)(Object(d.a)(Object(d.a)({},ee),te),{},{invalidStep:c,backStep:ue,nextStep:de,nextReady:!Object.values(te).some((function(e){return""===e}))}));case 2:return Object(x.jsx)(na,{email:k,newUser:se});default:throw new Error("Unknown step")}}(n)]})]}),Object(x.jsx)(We.a,{item:!0,xs:!1,sm:!1,md:6,className:e.image})]})};var oa=function(){return Object(x.jsx)(w.a,{children:Object(x.jsx)(y,{children:Object(x.jsx)(S,{children:Object(x.jsx)(N,{children:Object(x.jsxs)(b.d,{children:[Object(x.jsx)(b.b,{exact:!0,path:"/",children:Object(x.jsx)(b.a,{to:"/dashboard"})}),Object(x.jsx)(C,{path:"/dashboard",component:Qe}),Object(x.jsx)(C,{exact:!0,path:"/gettingStarted",component:rt}),Object(x.jsx)(b.b,{exact:!0,path:"/login",component:jt}),Object(x.jsx)(b.b,{exact:!0,path:"/signup",component:ia}),Object(x.jsx)(b.b,{exact:!0,path:"/getcard",component:nt})]})})})})})},ca=(a(435),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,523)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))}),la=Object(r.b)({palette:{primary:{main:"#185cff"},background:{default:"#FFFFFF"}},shape:{borderRadius:20},typography:{fontFamily:'"Public Sans", "Roboto", "Helvetica", "Arial", sans-serif'}});l.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsxs)(s.a,{theme:la,children:[Object(x.jsx)(n.a,{}),Object(x.jsx)(oa,{})]})}),document.getElementById("root")),ca()}},[[436,1,2]]]);
//# sourceMappingURL=main.1deb04a4.chunk.js.map